{
  "version": 3,
  "sources": ["../src/nodeOps.ts", "../src/modules/attr.ts", "../src/modules/class.ts", "../src/modules/event.ts", "../src/modules/style.ts", "../src/patchProp.ts", "../src/index.ts"],
  "sourcesContent": ["// dom\u7684\u589E\u5220\u6539\u67E5\nexport const nodeOps = {\n  insert(child, parent, anchor = null) {\n    // aanchor\u6709\u503C\u65F6\uFF0Cchild\u63D2\u5165\u5230anchor\u7684\u524D\u9762\uFF0Canchor\u4E3Anull\u65F6\uFF0Cchild\u63D2\u5165\u5230parent\u7684\u672B\u5C3E\n    parent.insertBefore(child, anchor);\n  },\n  remove(child) {\n    const parentNode = child.parentNode;\n    if (parentNode) {\n      parentNode.removeChild(child);\n    }\n  },\n  // \u5143\u7D20\u5185\u5BB9\u7684\u4FEE\u6539\n  setElementText(el, text) {\n    el.textContent = text;\n  },\n  // \u6587\u672C\u8282\u70B9\u8BBE\u7F6E\u5185\u5BB9\n  setText(node, text) {\n    node.nodeValue = text;\n  },\n  querySelector(selector) {\n    return document.querySelector(selector);\n  },\n  parentNode(node) {\n    return node.parentNode;\n  },\n  //\u8282\u70B9\u7684\u4E0B\u4E00\u4E2A\u5144\u5F1F\u8282\u70B9\n  nextSibling(node) {\n    return node.nextSibling;\n  },\n  // \u521B\u5EFA\u5143\u7D20\u8282\u70B9\n  createElement(tag) {\n    return document.createElement(tag);\n  },\n  // \u521B\u5EFA\u6587\u672C\u8282\u70B9\n  createText(text) {\n    return document.createTextNode(text);\n  },\n};\n", "export function patchAttr(el, prop, nextValue) {\n  if (nextValue) {\n    el.setAttribute(prop, nextValue);\n  } else {\n    el.removeAttribute(prop);\n  }\n}\n", "export function patchClass(el, nextValue) {\n  if (nextValue != null) {\n    el.className = nextValue;\n  } else {\n    el.removeAttribute(\"class\");\n  }\n}\n", "export function patchEvent(el, eventName, nextValue) {\n  let invokers = el._vei || (el._vei = {});\n\n  let exits = invokers[eventName];\n  if (exits && nextValue) {\n    exits.value = nextValue;\n  } else {\n    let event = eventName.slice(2).toLowerCase();\n    if (nextValue) {\n      const invoker = (invokers[eventName] = createInvoker(nextValue));\n      el.addEventListener(event, invoker);\n    } else if (exits) {\n      // nextValue === null\n      el.removeEventListener(event, exits);\n      delete invokers[eventName];\n    }\n  }\n}\n\nfunction createInvoker(callback) {\n  const invoker = (e) => invoker.value(e);\n  invoker.value = callback;\n  return invoker;\n}\n", "export function patchStyle(el, prevValue, nextValue) {\n  if (!nextValue) {\n    el.removeAttribute(\"style\");\n    return;\n  }\n\n  if (typeof nextValue === \"string\") {\n    el.setAttribute(\"style\", nextValue);\n    return;\n  }\n\n  if (nextValue) {\n    for (const key in nextValue) {\n      if (nextValue[key] === undefined) {\n        el.style.removeProperty(key);\n      } else {\n        el.style.setProperty(key, nextValue[key]);\n      }\n    }\n  }\n\n  if (prevValue) {\n    for (const key in prevValue) {\n      if (!Object.prototype.hasOwnProperty.call(nextValue, key)) {\n        el.style.removeProperty(key);\n      }\n    }\n  }\n}\n", "// \u5BF9\u4E8Edom\u8282\u70B9\u5C5E\u6027\u7684\u64CD\u4F5C\u5728\u8FD9\u91CC\n\nimport { patchAttr } from \"./modules/attr\";\nimport { patchClass } from \"./modules/class\";\nimport { patchEvent } from \"./modules/event\";\nimport { patchStyle } from \"./modules/style\";\n\n/**\n * @param el dom\u8282\u70B9\n * @param key \u5C5E\u6027\u540D\n * @param prevValue \u8001\u503C\n * @param nextValue \u65B0\u503C\n */\nexport function patchProp(el, key, prevValue, nextValue) {\n  // \u7C7B\u540D classname\n  if (key === \"class\") {\n    patchClass(el, nextValue);\n  } else if (key === \"style\") {\n    // \u6837\u5F0F style\n    patchStyle(el, prevValue, nextValue);\n  } else if (/^on[^a-z]/.test(key)) {\n    // \u4E8B\u4EF6 event\n    patchEvent(el, key, nextValue);\n  } else {\n    // \u5176\u4ED6\u5C5E\u6027\n    patchAttr(el, key, nextValue);\n  }\n}\n", "import { nodeOps } from \"./nodeOps\";\n\nimport { patchProp } from \"./patchProp\";\n\n// \u6E32\u67D3\u9009\u9879\nconst renderOptions = Object.assign(nodeOps, { patchProp });\n\nconsole.log(renderOptions);\n"],
  "mappings": ";;AACO,MAAM,UAAU;AAAA,IACrB,OAAO,OAAO,QAAQ,SAAS,MAAM;AAEnC,aAAO,aAAa,OAAO,MAAM;AAAA,IACnC;AAAA,IACA,OAAO,OAAO;AACZ,YAAM,aAAa,MAAM;AACzB,UAAI,YAAY;AACd,mBAAW,YAAY,KAAK;AAAA,MAC9B;AAAA,IACF;AAAA,IAEA,eAAe,IAAI,MAAM;AACvB,SAAG,cAAc;AAAA,IACnB;AAAA,IAEA,QAAQ,MAAM,MAAM;AAClB,WAAK,YAAY;AAAA,IACnB;AAAA,IACA,cAAc,UAAU;AACtB,aAAO,SAAS,cAAc,QAAQ;AAAA,IACxC;AAAA,IACA,WAAW,MAAM;AACf,aAAO,KAAK;AAAA,IACd;AAAA,IAEA,YAAY,MAAM;AAChB,aAAO,KAAK;AAAA,IACd;AAAA,IAEA,cAAc,KAAK;AACjB,aAAO,SAAS,cAAc,GAAG;AAAA,IACnC;AAAA,IAEA,WAAW,MAAM;AACf,aAAO,SAAS,eAAe,IAAI;AAAA,IACrC;AAAA,EACF;;;ACtCO,WAAS,UAAU,IAAI,MAAM,WAAW;AAC7C,QAAI,WAAW;AACb,SAAG,aAAa,MAAM,SAAS;AAAA,IACjC,OAAO;AACL,SAAG,gBAAgB,IAAI;AAAA,IACzB;AAAA,EACF;;;ACNO,WAAS,WAAW,IAAI,WAAW;AACxC,QAAI,aAAa,MAAM;AACrB,SAAG,YAAY;AAAA,IACjB,OAAO;AACL,SAAG,gBAAgB,OAAO;AAAA,IAC5B;AAAA,EACF;;;ACNO,WAAS,WAAW,IAAI,WAAW,WAAW;AACnD,QAAI,WAAW,GAAG,SAAS,GAAG,OAAO,CAAC;AAEtC,QAAI,QAAQ,SAAS;AACrB,QAAI,SAAS,WAAW;AACtB,YAAM,QAAQ;AAAA,IAChB,OAAO;AACL,UAAI,QAAQ,UAAU,MAAM,CAAC,EAAE,YAAY;AAC3C,UAAI,WAAW;AACb,cAAM,UAAW,SAAS,aAAa,cAAc,SAAS;AAC9D,WAAG,iBAAiB,OAAO,OAAO;AAAA,MACpC,WAAW,OAAO;AAEhB,WAAG,oBAAoB,OAAO,KAAK;AACnC,eAAO,SAAS;AAAA,MAClB;AAAA,IACF;AAAA,EACF;AAEA,WAAS,cAAc,UAAU;AAC/B,UAAM,UAAU,CAAC,MAAM,QAAQ,MAAM,CAAC;AACtC,YAAQ,QAAQ;AAChB,WAAO;AAAA,EACT;;;ACvBO,WAAS,WAAW,IAAI,WAAW,WAAW;AACnD,QAAI,CAAC,WAAW;AACd,SAAG,gBAAgB,OAAO;AAC1B;AAAA,IACF;AAEA,QAAI,OAAO,cAAc,UAAU;AACjC,SAAG,aAAa,SAAS,SAAS;AAClC;AAAA,IACF;AAEA,QAAI,WAAW;AACb,iBAAW,OAAO,WAAW;AAC3B,YAAI,UAAU,SAAS,QAAW;AAChC,aAAG,MAAM,eAAe,GAAG;AAAA,QAC7B,OAAO;AACL,aAAG,MAAM,YAAY,KAAK,UAAU,IAAI;AAAA,QAC1C;AAAA,MACF;AAAA,IACF;AAEA,QAAI,WAAW;AACb,iBAAW,OAAO,WAAW;AAC3B,YAAI,CAAC,OAAO,UAAU,eAAe,KAAK,WAAW,GAAG,GAAG;AACzD,aAAG,MAAM,eAAe,GAAG;AAAA,QAC7B;AAAA,MACF;AAAA,IACF;AAAA,EACF;;;ACfO,WAAS,UAAU,IAAI,KAAK,WAAW,WAAW;AAEvD,QAAI,QAAQ,SAAS;AACnB,iBAAW,IAAI,SAAS;AAAA,IAC1B,WAAW,QAAQ,SAAS;AAE1B,iBAAW,IAAI,WAAW,SAAS;AAAA,IACrC,WAAW,YAAY,KAAK,GAAG,GAAG;AAEhC,iBAAW,IAAI,KAAK,SAAS;AAAA,IAC/B,OAAO;AAEL,gBAAU,IAAI,KAAK,SAAS;AAAA,IAC9B;AAAA,EACF;;;ACtBA,MAAM,gBAAgB,OAAO,OAAO,SAAS,EAAE,UAAU,CAAC;AAE1D,UAAQ,IAAI,aAAa;",
  "names": []
}
